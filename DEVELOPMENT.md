# 開発ガイド

## 作業ルール

### 必須チェック項目

- **ファイル編集後は必ずエラーチェックを実施する**
  - `get_errors()` で TypeScript コンパイルエラーを確認
  - 複数ファイルを編集した場合は、全てのファイルをチェック
  - エラーがある場合は必ず修正してから次のタスクに進む

### コンポーネント作成時のルール

- React.memo でラップしてパフォーマンスを向上
- 共通コンポーネントは `components/common/` に配置
- 機能固有のコンポーネントは `components/{feature}/` に配置

### サービス層のルール

- 全てのデータベース操作は `services/` に実装
- Supabase クライアントを直接使用しない
- 0 件の場合のエラーを防ぐため `.maybeSingle()` を使用
- 戻り値は `{data, error}` の形式で統一

### 型定義のルール

- `type` を使用（`interface` は使用しない）
- 列挙型は TypeScript の `enum` を使用

### UI スタイルのルール

- tagmagui を使ってスタイル統一させる

## 現在のプロジェクト状態

### 完了した機能

- ✅ Supabase 認証（メール/パスワード、メール確認不要）
- ✅ Google OAuth 認証（詳細は `docs/GOOGLE_OAUTH_SETUP.md` を参照）
- ✅ 日記エントリーの作成・編集・削除
- ✅ カレンダービュー（日記データがある日付をマーク）
- ✅ 共通コンポーネント（Header, Loading）
- ✅ サービス層（DiaryService, AuthService）
- ✅ Tamagui UI ライブラリの導入とデザイン統一

### データベースマイグレーション

### 今後の実装予定

- AI 文章校正機能
- 翻訳練習問題
- 学習記録グラフ
- 多言語対応（i18next）
